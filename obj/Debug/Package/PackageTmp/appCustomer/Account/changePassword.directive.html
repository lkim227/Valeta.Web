<div class="change-password">
    <div class="alert alert-info" ng-show="passwordChangedSuccessfully">
        <h4>Your password was successfully changed!</h4>
    </div>

    <form role="form" ng-hide="passwordChangedSuccessfully" name="changePasswordForm" ng-submit="changePassword()" novalidate>
        <div class="form-horizontal" cg-busy="loadingPromise">
            <div id="oldPasswordRow" class="form-group">
                <label class="form-col-withlabel-label control-label" for="oldPasswordInput">{{formMessages.Placeholder_OldPassword}}</label>
                <div class="form-col-withlabel-input">
                    <input type="password"
                            ng-model="oldPassword"
                            name="oldPasswordInput"
                            id="oldPasswordInput"
                            class="form-control"
                            required autofocus autocomplete="off"/>
                    <div class="error-messages" ng-messages="changePasswordForm.oldPasswordInput.$error" ng-if="changePasswordForm.oldPasswordInput.$touched || changePasswordForm.$submitted">
                        <div ng-message="required">{{formMessages.Required_OldPassword}}</div>
                    </div>
                </div>
            </div>

            <div id="passwordRow" class="form-group">
                <label class="form-col-withlabel-label no-top-padding control-label" for="passwordInput">New {{formMessages.Placeholder_Password}}</label>
                <div class="form-col-withlabel-input">
                    <input type="password"
                        name="newPasswordInput"
                        id="newPasswordInput"
                        ng-minlength="8"
                        required
                        class="form-control"
                        autocomplete="off"
                        ng-model="newPassword" />

                    <div class="error-messages" ng-messages="changePasswordForm.newPasswordInput.$error" ng-if="changePasswordForm.newPasswordInput.$touched || changePasswordForm.$submitted">
                        <div ng-message="required">{{formMessages.Required_Password}}</div>
                        <div ng-message="minlength">{{formMessages.Format_Password}}</div>
                    </div>
                </div>
            </div>

            <div id="confirmPasswordRow" class="form-group">
                <label class="form-col-withlabel-label control-label" for="confirmPasswordInput">{{formMessages.Placeholder_ConfirmPassword}}</label>
                <div class="form-col-withlabel-input">
                    <input type="password" data-match="#newPasswordInput" name="confirmPasswordInput" id="confirmPasswordInput" ng-minlength="8" required class="form-control" autocomplete="off" ng-model="confirmPassword"/>

                    <div class="error-messages" ng-messages="changePasswordForm.confirmPasswordInput.$error" ng-if="changePasswordForm.confirmPasswordInput.$touched || changePasswordForm.$submitted">
                        <div ng-message="required">{{formMessages.Required_ConfirmPassword}}</div>
                        <div ng-message="minlength">{{formMessages.Format_Password}}</div>
                    </div>
                    <div class="error-messages" ng-messages="{'match': confirmPassword !== newPassword }" ng-if="changePasswordForm.confirmPasswordInput.$touched || changePasswordForm.$submitted">
                        <div ng-message="match">{{formMessages.Required_ConfirmPasswordShouldMatch}}</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="form_buttons-wrapper">
                <button type="submit" class="btn btn-primary top-buffer15" ng-disabled="!changePasswordForm.$valid || !changePasswordForm.$dirty || !passwordMatched">Change Password</button>
            </div>
        </div>
    </form>
</div>