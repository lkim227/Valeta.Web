<div class="row bottom-buffer15" ng-if="!!accountID">
    <div class="form-col-withlabel-input" ng-if="accountVehicles.length > 0">
        <select id="vehicleSelector" ng-model="selectedVehicleId"
                ng-options="v.ID as v.FriendlyName for v in accountVehicles"
                ng-change="onChangeVehicle(selectedVehicleId)" >
            <option value="">--Select Vehicle--</option>
        </select>
    </div>
    <div class="col col-lg-6" ng-if="accountVehicles.length == 0">
        <p style="color: red">This customer doesn't have vehicles.</p>
    </div>
</div>
<div class="row" ng-show="!!selectedVehicleId" cg-busy="{promise:loadingPromise,message:'Loading...'}">
    <div class="panel with-nav-tabs">
        <div class="panel-heading">
            <ul class="nav nav-tabs">
                <li ng-class="{ 'active': selectedTab == 1 }"><a href="" ng-click="selectedTab = 1">Front</a></li>
                <li ng-class="{ 'active': selectedTab == 2 }"><a href="" ng-click="selectedTab = 2">Right</a></li>
                <li ng-class="{ 'active': selectedTab == 3 }"><a href="" ng-click="selectedTab = 3">Back</a></li>
                <li ng-class="{ 'active': selectedTab == 4 }"><a href="" ng-click="selectedTab = 4">Left</a></li>
                <li ng-class="{ 'active': selectedTab == 5 }"><a href="" ng-click="selectedTab = 5">Damages</a></li>
                <li ng-class="{ 'active': selectedTab == 6 }"><a href="" ng-click="selectedTab = 6">Signatures</a></li>
            </ul>
        </div>
        <div class="panel-body" style="padding: 30px">
            <p style="color: red;" ng-show="vehicleTickets.length == 0">There are no tickets associated with this vehicle.</p>
            <div class="tab-content" ng-show="vehicleTickets.length > 0">
                <div>
                    <div class="tab-pane fade in active" id="tab1default" ng-show="selectedTab == 1">
                        <div id="frontImagesRow" class="row">
                            <table class="table table-hover table-responsive" ng-cloak>
                                <thead>
                                    <tr>
                                        <th width="200px">Image Preview</th>
                                        <th>Created By</th>
                                        <th>Created Date</th>
                                        <th width="150px">Ticket Number</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="v in vehicleImages">
                                        <td>
                                            <a href="" ng-click="openFullImage(v.Description, getImageUrl(v.LocalPhotoSet.FullsizeFileName))" title="View full size">
                                                <img class="img-responsive" ng-src="{{ getImageUrl(v.LocalPhotoSet.ThumbnailFileName) }}" alt="" on-error-src="http://placehold.it/200x200" style="margin: auto; width: 150px;" />
                                            </a>
                                        </td>
                                        <td>
                                            <p>{{ v.CreatedBy }}</p>
                                        </td>
                                        <td>
                                            <p>{{ v.DateCreated | date: 'short' }}</p>
                                        </td>
                                        <td>
                                            <a href="/appStaff/#/ticket/{{v.TicketNumber}}" title="View Details" target="_self">#{{v.TicketNumber}}</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade in active" id="tab2default" ng-show="selectedTab == 2">
                        <div id="rightImagesRow" class="row">
                            <table class="table table-hover table-responsive" ng-cloak>
                                <thead>
                                    <tr>
                                        <th width="200px">Image Preview</th>
                                        <th>Created By</th>
                                        <th>Created Date</th>
                                        <th width="150px">Ticket Number</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="v in vehicleImages">
                                        <td>
                                            <a href="" ng-click="openFullImage(v.Description, getImageUrl(v.LocalPhotoSet.FullsizeFileName))" title="View full size">
                                                <img class="img-responsive" ng-src="{{ getImageUrl(v.LocalPhotoSet.ThumbnailFileName) }}" alt="" on-error-src="http://placehold.it/200x200" style="margin: auto; width: 150px;" />
                                            </a>
                                        </td>
                                        <td>
                                            <p>{{ v.CreatedBy }}</p>
                                        </td>
                                        <td>
                                            <p>{{ v.DateCreated | date: 'short' }}</p>
                                        </td>
                                        <td>
                                            <a href="/appStaff/#/ticket/{{v.TicketNumber}}" title="View Details" target="_self">#{{v.TicketNumber}}</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade in active" id="tab3default" ng-show="selectedTab == 3">
                        <div id="backImagesRow" class="row">
                            <table class="table table-hover table-responsive" ng-cloak>
                                <thead>
                                    <tr>
                                        <th width="200px">Image Preview</th>
                                        <th>Created By</th>
                                        <th>Created Date</th>
                                        <th width="150px">Ticket Number</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="v in vehicleImages">
                                        <td>
                                            <a href="" ng-click="openFullImage(v.Description, getImageUrl(v.LocalPhotoSet.FullsizeFileName))" title="View full size">
                                                <img class="img-responsive" ng-src="{{ getImageUrl(v.LocalPhotoSet.ThumbnailFileName) }}" alt="" on-error-src="http://placehold.it/200x200" style="margin: auto; width: 150px;" />
                                            </a>
                                        </td>
                                        <td>
                                            <p>{{ v.CreatedBy }}</p>
                                        </td>
                                        <td>
                                            <p>{{ v.DateCreated | date: 'short' }}</p>
                                        </td>
                                        <td>
                                            <a href="/appStaff/#/ticket/{{v.TicketNumber}}" title="View Details" target="_self">#{{v.TicketNumber}}</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade in active" id="tab4default" ng-show="selectedTab == 4">
                        <div id="leftImagesRow" class="row">
                            <table class="table table-hover table-responsive" ng-cloak>
                                <thead>
                                    <tr>
                                        <th width="200px">Image Preview</th>
                                        <th>Created By</th>
                                        <th>Created Date</th>
                                        <th width="150px">Ticket Number</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="v in vehicleImages">
                                        <td>
                                            <a href="" ng-click="openFullImage(v.Description, getImageUrl(v.LocalPhotoSet.FullsizeFileName))" title="View full size">
                                                <img class="img-responsive" ng-src="{{ getImageUrl(v.LocalPhotoSet.ThumbnailFileName) }}" alt="" on-error-src="http://placehold.it/200x200" style="margin: auto; width: 150px;" />
                                            </a>
                                        </td>
                                        <td>
                                            <p>{{ v.CreatedBy }}</p>
                                        </td>
                                        <td>
                                            <p>{{ v.DateCreated | date: 'short' }}</p>
                                        </td>
                                        <td>
                                            <a href="/appStaff/#/ticket/{{v.TicketNumber}}" title="View Details" target="_self">#{{v.TicketNumber}}</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade in active" id="tab5default" ng-show="selectedTab == 5">
                        <div id="damagesImagesRow" class="row">
                            <div class="row bottom-buffer15">
                                <div class="col col-lg-6 col-lg-offset-3">
                                    <div id="vehicleDamageDiagramContainer" style="border: 3px solid black;">
                                        <img id="diagramImage" src="/appCommon/resources/VehicleDamage-Diagram.png" alt="" class="img-responsive" width="360"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <table class="table table-hover table-responsive" ng-cloak>
                                    <thead>
                                        <tr>
                                            <th width="200px">Image Preview</th>
                                            <th>Description</th>
                                            <th>Created By</th>
                                            <th>Created Date</th>
                                            <th width="130px">Ticket Number</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="v in vehicleDamages">
                                            <td>
                                                <a href="" ng-click="openFullImage(v.Description, getImageUrl(v.LocalPhotoSet.FullsizeFileName))" title="View full size">
                                                    <img class="img-responsive" ng-src="{{ getImageUrl(v.LocalPhotoSet.ThumbnailFileName) }}" alt="" on-error-src="http://placehold.it/200x200" style="margin: auto; width: 150px;" />
                                                </a>
                                            </td>
                                            <td>
                                                <p><i>{{ v.Description }}</i></p>
                                            </td>
                                            <td>
                                                <p>{{ v.CreatedBy }}</p>
                                            </td>
                                            <td>
                                                <p>{{ v.DateCreated | date: 'short' }}</p>
                                            </td>
                                            <td>
                                                <a href="/appStaff/#/ticket/{{v.TicketNumber}}" title="View Details" target="_self">#{{v.TicketNumber}}</a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade in active" id="tab6default" ng-show="selectedTab == 6">
                        <div id="damagesSignaturesRow" class="row">
                            <div class="row">
                                <table class="table table-hover table-responsive" ng-cloak>
                                    <thead>
                                        <tr>
                                            <th width="200px">Image Preview</th>
                                            <th>Created By</th>
                                            <th>Created Date</th>
                                            <th width="130px">Ticket Number</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="v in vehicleSignatures">
                                            <td>
                                                <a href="" ng-click="openFullImage('Signature', v.ImageUrl)" title="View full size">
                                                    <img class="img-responsive" ng-src="{{ v.ImageUrl }}" alt="" on-error-src="http://placehold.it/200x200" style="margin: auto; width: 150px;" />
                                                </a>
                                            </td>
                                            <td>
                                                <p>{{ v.CreatedBy }}</p>
                                            </td>
                                            <td>
                                                <p>{{ v.DateCreated | date: 'short' }}</p>
                                            </td>
                                            <td>
                                                <a href="/appStaff/#/ticket/{{v.TicketNumber}}" title="View Details" target="_self">#{{v.TicketNumber}}</a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
