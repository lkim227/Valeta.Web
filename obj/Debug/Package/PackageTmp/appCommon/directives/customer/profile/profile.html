<div ng-controller="ProfileController as vm" class="profile">
    <div class="profile_image-wrapper">
        <img class="img-responsive profile_image" ng-src="{{ vm.profileImageUrl }}" alt="Profile Image" on-error-src="/appCommon/resources/profile-icon.png" />

        <span class="profile_floating-edit-icon glyphicon glyphicon-pencil"></span>

        <div class="dropdown">
            <button class="btn btn-default profile_edit-image dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                <li>
                    <label class="image-upload-label btn-link">
                        <input type="file" accept="image/*" name="profileImage" profile-image-input="file" profile-image-preview="filepreview" profile-type="customer" title="Something">
                        <span class="link-icon glyphicon glyphicon-camera"></span>
                        <span class="link-text">Upload Photo</span>
                    </label>
                </li>
                <li>
                    <button class="btn btn-link" ng-if="!vm.isConnectedIN" ng-click="vm.connectIN()">
                        <img class="btn_linkedin-img" src="/appCommon/resources/LinkedIn-Icon-circle-sm.png" />
                        <span class="link-text">Photo From LinkedIn</span>
                    </button>
                </li>
            </ul>
        </div>
    </div>

    <div class="profile_title-wrapper">
        <h3 class="profile_title">{{vm.account.ContactInformation.Name.Prefix}} {{vm.account.ContactInformation.Name.First}} {{vm.account.ContactInformation.Name.Last}}<span ng-show="vm.account.ContactInformation.Name.Suffix.length > 0">, {{vm.account.ContactInformation.Name.Suffix}}</span></h3>
    </div>


    <div class="profile_content" cg-busy="vm.loadingPromise">
        <div class="profile_edit-wrapper">
            <button class="btn btn-primary profile_edit-btn" title="Edit Profile" ng-click="vm.editMode()">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
            </button>
        </div>

        <div class="profile_rows-wrapper">
            <div id="emailRow" class="row-formline">
                <span class="input-group-addon glyphicon glyphicon-envelope"></span>
                <span class="profile_row-content profile_row-content--inline">
                    <a class="link" href="mailto:{{vm.account.ContactInformation.Email.EmailAddress}}">{{vm.account.ContactInformation.Email.EmailAddress}}</a>
                </span>
            </div>
            <div id="userNameRow" class="row-formline" ng-show="vm.account.LegacyUserName.length > 0">
                <span class="input-group-addon  glyphicon glyphicon-user"></span>
                <span class="profile_row-content profile_row-content--inline">{{vm.account.LegacyUserName}}</span>
            </div>
            <div id="phoneRow" class="row-formline">
                <span class="input-group-addon glyphicon glyphicon-earphone"></span>
                <span class="profile_row-content profile_row-content--inline">
                    <a class="link" href="tel:{{vm.account.ContactInformation.MobilePhone.Number}}">{{vm.account.ContactInformation.MobilePhone.Number | tel}}</a>
                </span>
            </div>
            <div id="profileAddress" class="row-formline">
                <div class="profile_row-title">
                    <span class="input-group-addon  glyphicon glyphicon-home"></span>
                    <span class="profile_row-title-text">{{vm.formMessages.Title_MailingAddress}}</span>
                </div>
                <div class="profile_row-content">
                    <div ng-show="vm.account.ContactInformation.MailingAddress.Line1.length > 0">
                        {{vm.account.ContactInformation.MailingAddress.Line1}}
                    </div>
                    <div ng-show="vm.account.ContactInformation.MailingAddress.Line2.length > 0">
                        {{vm.account.ContactInformation.MailingAddress.Line2}}
                    </div>
                    <div>
                        {{vm.account.ContactInformation.MailingAddress.City}}, {{vm.account.ContactInformation.MailingAddress.State}} {{vm.account.ContactInformation.MailingAddress.PostalCode}}
                    </div>
                    <div ng-show="vm.account.ContactInformation.MailingAddress.Country.length > 0">
                        {{vm.account.ContactInformation.MailingAddress.Country}}
                    </div>
                </div>
            </div>

            <div id="profilePhones" class="row-formline">
                <div class="profile_row-title">
                    <span class="input-group-addon glyphicon glyphicon-phone-alt"></span>
                    <span class="profile_row-title-text">{{vm.formMessages.Title_OtherPhones}}:</span>
                </div>
                <div class="profile_row-content" ng-repeat="phone in vm.account.ContactInformation.MorePhones">
                    <a class="link" href="tel:{{phone.Number}}">{{phone.Number | tel}}</a> <span class="profile_row-content-detail">{{phone.Note}}</span>
                </div>
            </div>

            <div id="otherEmails" class="row-formline">
                <label>Emails to contact during reservation:</label>
                <span class="profile_row-content profile_row-content--inline">{{vm.account.CCEmails}}</span>
            </div>

            <div id="defaultMeetLocationIntake" class="row-formline">
                <div class="profile_row-content profile_row-content--inline">
                    <span>Default Meet Location on Intake:</span>
                    {{vm.account.DefaultMeetLocationIntake}}
                </div>
            </div>

            <div id="noteToValets" class="row-formline">
                <div class="profile_row-content profile_row-content--inline">
                    <span>Note To Valets:</span>
                    {{vm.account.NoteToValets}}
                </div>
            </div>

            <div id="noteToValets" class="row-formline">
                <div class="profile_row-content profile_row-content--inline">
                    <span>Office Note (visible to office only):</span>
                    {{vm.account.OfficeNote}}
                </div>
            </div>

            <div id="accessedByStaff" class="row-formline" ng-show="vm.isAccessedByStaff">
                <div class="profile_row-content profile_row-content--inline">
                    <span for="isAccessedByStaffButtons">Is this a sales tax exempt account?</span>
                    <label ng-show="vm.account.IsSalesTaxExempt" id="isSalesTaxExemptYes" name="isSalesTaxExemptYes">Yes</label>
                    <label ng-hide="vm.account.IsSalesTaxExempt" id="isSalesTaxExemptNo" name="isSalesTaxExemptNo">No</label>
                </div>

                <div class="profile_row-content profile_row-content--inline">
                    <span for="defaultPromoCode">Corporate Promo Code:</span>
                    {{vm.account.DefaultPromoCode}}
                </div>
            </div>
        </div>
    </div>
</div>
