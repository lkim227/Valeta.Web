
<div class="page-controls-wrapper">
    <button ng-show="canCreate && hasEditAccess" class="btn btn-primary" ng-click="openAddEmployee()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> New Employee</button>
    <button class="btn btn-default" ng-click="archivedFlagChanged()">{{ (showArchived) ? 'Show Active' : 'Show Inactive' }}</button>
</div>

<!-- Add Employee Modal Content -->
<script type="text/ng-template" id="addEmployeeModalContent">
    <div id="progress" cg-busy="{promise:loadingPromise,message:'Processing...'}">
        <div class="modal-header">
            <button type="button"
                    class="close"
                    aria-label="Close"
                    ng-click="cancelAddEmployee()">
                <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title">Add Employee</h4>
        </div>
        <div class="modal-body">
            <div class="row" ng-if="!!newEmployeeErrorMessage">
                <div class="form-errorBox">
                    <span><span class="glyphicon glyphicon-ban-circle"></span>{{newEmployeeErrorMessage}}</span>
                </div>
            </div>
            <form id="addEmployeeForm" name="addEmployeeForm">
                <div class="form-horizontal">
                    <div id="nameRow" class="input-group">
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                        </span>

                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="form-col-withlabel-label control-label" for="firstName">{{formMessages.Label_Name_First}}</label>
                                <div class="form-col-withlabel-input">
                                    <input class="form-control" type="text" id="firstName" name="firstName" required ng-model="newEmployee.ContactInformation.Name.First" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-col-withlabel-label control-label" for="lastName">{{formMessages.Label_Name_Last}}</label>
                                <div class="form-col-withlabel-input">
                                    <input class="form-control" type="text" id="lastName" name="lastName" required ng-model="newEmployee.ContactInformation.Name.Last" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="emailRow" class="input-group top-buffer15">
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
                        </span>
                        <!--Note that this ng-pattern matches the domain validation regex pattern-->
                        <input class="form-control"
                               type="email"
                               required
                               placeholder="{{formMessages.Placeholder_Email}}"
                               id="emailInput"
                               name="emailInput"
                               ng-pattern="/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/"
                               ng-model="newEmployee.ContactInformation.Email.EmailAddress" />
                    </div>
                    <div class="error-messages" ng-messages="addEmployeeForm.emailInput.$error" ng-if="addEmployeeForm.emailInput.$dirty || addEmployeeForm.$submitted">
                        <div ng-message="required">{{formMessages.Required_Email}}</div>
                        <div ng-message="email">{{formMessages.Format_Email}}</div>
                        <div ng-message="pattern">{{formMessages.Format_Email}}</div>
                    </div>

                    <div id="passwordRow" class="input-group top-buffer15">
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-lock" aria-hidden="true" title="Password"></span>
                        </span>

                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="form-col-withlabel-label control-label" for="passwordInput">{{formMessages.Label_Password}}</label>
                                <div class="form-col-withlabel-input">
                                    <input type="password" id="passwordInput" name="passwordInput" ng-minlength="8" required class="form-control" placeholder="{{formMessages.Placeholder_Password}}" ng-model="newEmployee.Password" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-col-withlabel-label control-label" for="lastName">{{formMessages.Label_Pincode}}</label>
                                <div class="form-col-withlabel-input">
                                    <input ng-model="newEmployee.ValetAppPinCode"
                                           id="pinCodeInput" name="pinCodeInput"
                                           placeholder="{{formMessages.Placeholder_ValetAppPinCode}}"
                                           class="form-control"
                                           ng-pattern="/^[0-9]{6}$/"
                                           required />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-col-withlabel-label control-label" for="lastName">{{formMessages.Label_Badge}}</label>
                                <div class="form-col-withlabel-input">
                                    <input ng-model="newEmployee.Badge"
                                           id="badgeInput" name="badgeInput"
                                           placeholder="{{formMessages.Placeholder_ValetBadge}}"
                                           class="form-control"
                                           ng-pattern="/^[0-9]*$/" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="error-messages" ng-messages="addEmployeeForm.passwordInput.$error" ng-if="addEmployeeForm.passwordInput.$dirty || addEmployeeForm.$submitted">
                        <div ng-message="required">{{formMessages.Required_Password}}</div>
                        <div ng-message="minlength">{{formMessages.Format_Password}}</div>
                    </div>
                    <div class="error-messages" ng-messages="addEmployeeForm.pinCodeInput.$error" ng-if="addEmployeeForm.pinCodeInput.$dirty || addEmployeeForm.$submitted">
                        <div ng-message="required">{{formMessages.Required_ValetAppPinCode}}</div>
                        <div ng-message="pattern">{{formMessages.Format_ValetAppPinCode}}</div>
                    </div>
                    <div class="error-messages" ng-messages="addEmployeeForm.badgeInput.$error" ng-if="addEmployeeForm.badgeInput.$dirty || addEmployeeForm.$submitted">
                        <div ng-message="pattern">{{formMessages.Format_ValetBadge}}</div>
                    </div>



                    <div id="phoneRow" class="input-group top-buffer15">
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>
                        </span>
                        <input type="tel"
                               ng-model="newEmployee.ContactInformation.MobilePhone.Number"
                               id="phoneInput" name="phoneInput"
                               placeholder="{{formMessages.Placeholder_MobilePhone}}"
                               class="form-control"
                               ng-pattern="/^\(?\d{3}\)?-? *\d{3}-? *-?\d{4}/"
                               mask="(999) 999-9999"
                               required />
                    </div>
                    <div class="error-messages" ng-messages="addEmployeeForm.phoneInput.$error" ng-if="addEmployeeForm.phoneInput.$dirty || addEmployeeForm.$submitted">
                        <div ng-message="required">{{formMessages.Required_MobilePhone}}</div>
                        <div ng-message="pattern">{{formMessages.Format_Phone}}</div>
                    </div>

                    <div id="addressRow" class="input-group top-buffer15">
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
                        </span>

                        <div class="form-horizontal left-buffer5">
                            <div class="form-group">
                                <label class="form-col-withlabel-label control-label" for="addressLine1">{{formMessages.Label_Address_1}}</label>
                                <div class="form-col-withlabel-input">
                                    <input class="form-control" type="text" id="addressLine1" name="addressLine1" ng-model="newEmployee.ContactInformation.MailingAddress.Line1" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-col-withlabel-label control-label" for="addressLine2">{{formMessages.Label_Address_2}}</label>
                                <div class="form-col-withlabel-input">
                                    <input class="form-control" type="text" id="addressLine2" name="addressLine2" ng-model="newEmployee.ContactInformation.MailingAddress.Line2" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-col-withlabel-label control-label" for="city">{{formMessages.Label_City}}</label>
                                <div class="form-col-withlabel-input">
                                    <input class="form-control" type="text" id="city" name="city" ng-model="newEmployee.ContactInformation.MailingAddress.City" />
                                </div>
                            </div>

                            <defined-list-dropdown list-type="State" list-label="{{formMessages.Label_State}}" selected-defined-list-value="newEmployee.ContactInformation.MailingAddress.State" class="form-group state-wrapper"></defined-list-dropdown>

                            <div class="form-group last">
                                <label class="form-col-withlabel-label control-label" for="zip">{{formMessages.Label_Zip}}</label>
                                <div class="form-col-withlabel-input">
                                    <input class="form-control" type="text" id="zip" name="zip" ng-model="newEmployee.ContactInformation.MailingAddress.PostalCode" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" ng-click="addNewEmployee()" class="btn btn-primary" ng-disabled="!addEmployeeForm.$valid">Add Employee</button>
            <button class="btn btn-cancel" ng-click="cancelAddEmployee()">Cancel</button>
        </div>
    </div>
</script>

<div class="myGrid">
    <kendo-grid options="gridOptions" id="gridEmployees"></kendo-grid>
</div>

<style>
    #myGrid .k-button .k-button-icontext {
        background-color: gold;
        size: 1000px;
    }
</style>

<script>
    $(document).ready(function () {

        $("input[name='ContactInformation.MobilePhone.Number']").kendoMaskedTextBox({
            mask: "(999) 000-0000"
        });

    });
</script>

