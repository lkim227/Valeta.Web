<div class="container-fluid">

    <div class="page-controls-wrapper">
        <operating-location-dropdown operating-location-changed-callback="vm.loadMap(newOperatingLocation)"></operating-location-dropdown>
    </div>

    <div class="clearfix"></div>

    <img id="trackingIcon" src="https://valetablob1.blob.core.windows.net/location/MapValetBlue.png" alt="icon" style="display: none" />

    <div kendo-tab-strip k-content-urls="[null, null]">
        <ul>
            <li class="k-state-active">Map</li>
            <li>Valets</li>
        </ul>

        <div class="tab-content" id="map-tab">
            <div>
                <canvas id="mapCanvas" width="1200" height="600" style="border:1px solid #d3d3d3;" background-image="{{vm.mapImageUrl}}">
                    Your browser does not support the HTML5 canvas tag.
                </canvas>
            </div>
        </div>
        <div class="tab-content" id="valets-tab">
            <table>
                <thead>
                    <tr>
                        <th width="200px">Name</th>
                        <th width="100px">Phone #</th>
                        <th width="100px">Location</th>
                        <th width="200px">Updated on</th>
                        <th width="200px">Note</th>
                    </tr>
                </thead>
                <tbody ng-repeat="dataItem in vm.employees | orderBy: '-LocationReportedOn'">
                    <tr>
                        <td width="200px">
                            {{dataItem.ResourceFriendlyID}}
                        </td>
                        <td width="100px">
                            {{dataItem.DeviceCode}}
                        </td>
                        <td width="100px">
                            <a class="link" ng-href="https://www.google.com/maps/dir/{{dataItem.GeoLocation.Latitude}},{{dataItem.GeoLocation.Longitude}}">{{dataItem.GeoLocation.Latitude | number:2}}, {{dataItem.GeoLocation.Longitude | number:2}}</a>
                        </td>
                        <td width="200px">
                            {{dataItem.LocationReportedOn | date:'medium' }}
                        </td>
                        <td width="200px">
                            {{dataItem.Note }}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>


        <script>
            window.onload = function () {
                //    var c = document.getElementById("mapCanvas");
                //    var ctx = c.getContext("2d");
                //    var img = document.getElementById("trackingIcon");
                //    ctx.drawImage(img, 100, 100);
            }
        </script>
    </div>
